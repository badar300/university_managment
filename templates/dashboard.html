<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>Add New Theses</title>
    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
    <script src="https://code.jquery.com/jquery-3.6.4.min.js"></script>


{#    <script>#}
{#        $.noConflict();#}
{#        jQuery(document).ready(function ($){#}
{#            $('#allstudents').click(function() {#}
{#        // Make an AJAX request to fetch all students from the backend#}
{#        $.ajax({#}
{#            url: 'http://127.0.0.1:8000/allstudents',#}
{#            type: 'GET',#}
            {#dataType: 'json',#}
{#            success: function() {#}
{#                alert('success')#}
{#            },#}
{#            error: function(error) {#}
{#                console.log('Error fetching data from the backend:', error);#}
{#            }#}
{#        });#}
{#    });#}
{#})#}
{#    </script>#}
</head>
<body>

<nav class="navbar navbar-expand-lg navbar-light bg-light">
    <a class="navbar-brand" href="#">PORTAL</a>
    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" id="navbarNav">
        <ul class="navbar-nav">
            {% if user.is_superuser %}
                <li class="nav-item active">
                    <a class="nav-link" href="#">Add theses <span class="sr-only">(current)</span></a>
                </li>
                <li class="nav-item active" id="allstudents">
                    <a class="nav-link" href="/allstudents">All Students <span class="sr-only">(current)</span></a>
                </li>
            {% endif %}
            <li class="nav-item">
                <a class="nav-link" href="/dissertations">Dissertations</a>
            </li>
            <!-- Add more navigation items as needed -->
        </ul>
    </div>
<ul class="navbar-nav ml-auto">
        {% if user.is_authenticated %}
            <li class="nav-item">
                <a class="nav-link" href="/logout">Logout</a>
            </li>
        {% endif %}
    </ul>
</nav>


<div class="container mt-5">
    <div class="row">
        <div class="col-lg-12 col-xl-11">
            <div class="card text-black" style="border-radius: 25px;">
                <div class="card-body p-md-5">
                    <div class="row justify-content-center">
                        <div class="col-md-10 col-lg-6 col-xl-5 order-2 order-lg-1">

                            <p class="text-center h1 fw-bold mb-5 mx-1 mx-md-4 mt-4">Add Thesis</p>
                        {% if msg %}
  <div class="alert alert-success" role="alert">
    {{ msg }}
  </div>
{% endif %}

                            <form class="mx-1 mx-md-4" action="add_theses" method="post">
                                {% csrf_token %}
                                <div class="form-group">
                                    <label for="std_id">Select Student:</label>
                                    <select class="form-control" id="std_id" name="std_id">
                                        <!-- Add options dynamically based on available student IDs -->
                                        {% for student in students %}
                                            <option value="{{ student.id }}">{{ student.user.username }}</option>
                                        {% endfor %}
                                    </select>
                                </div>

                                <div class="form-group">
                                    <label for="supervis_id">Select Supervisor ID:</label>
                                    <select class="form-control" id="supervis_id" name="supervis_id">
                                        <!-- Add options dynamically based on available supervisor IDs -->
                                        {% for supervisor in supervisors %}
                                            <option value="{{ supervisor.id }}">{{ supervisor.user.username }}</option>
                                        {% endfor %}
                                    </select>
                                </div>

                                <div class="form-group">
                                    <label for="title">Title:</label>
                                    <input type="text" class="form-control" id="title" name="title">
                                </div>

                                <div class="form-group">
                                    <label for="faculty">Faculty:</label>
                                    <input type="text" class="form-control" id="faculty" name="faculty">
                                </div>

                                <div class="form-group">
                                    <label for="institute">Institute:</label>
                                    <input type="text" class="form-control" id="institute" name="institute">
                                </div>

                                <div class="form-group">
                                    <label for="department">Department:</label>
                                    <input type="text" class="form-control" id="department" name="department">
                                </div>

                                <div class="form-group">
                                    <label for="sub_year">Sub Year:</label>
                                    <input type="text" class="form-control" id="sub_year" name="sub_year">
                                </div>

                                <div class="form-group">
                                    <label for="def_year">Def Year:</label>
                                    <input type="text" class="form-control" id="def_year" name="def_year">
                                </div>

                                <div class="form-group">
                                    <label for="def_grade">Def Grade:</label>
                                    <input type="text" class="form-control" id="def_grade" name="def_grade">
                                </div>

                                <button type="submit" class="btn btn-primary">Submit</button>
                            </form>
                        </div>
                        <div class="col-md-10 col-lg-6 col-xl-7 d-flex align-items-center order-1 order-lg-2">
                            <!-- Your Image Goes Here -->
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Bootstrap JS and dependencies (popper.js and jQuery) -->
<script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.3/dist/umd/popper.min.js"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>

</body>
</html>

